<!-- Header -->
<header class="auth-header">
  <div class="container header-content">
    <div class="logo" routerLink="projects/dashboard">
      <div class="logo-icon"></div>
      <h1>Gaz Ab√©ch√©</h1>
    </div>

    <!-- Bouton de traduction -->
    <button class="btn-translate" (click)="toggleLanguage()">
      <span class="language-text">{{ t('arabe') }}</span>
      <span class="language-flag">
        {{ currentLanguage === 'fr' ? 'üá∏üá¶' : 'üá´üá∑' }}
      </span>
    </button>
  </div>
</header>

<!-- Section d'authentification -->
<section class="auth-section">
  <div class="container">
    <div class="auth-container">
      <div class="auth-tabs">
        <div class="auth-tab active">{{ t('connexion') || 'Connexion' }}</div>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
        <!-- Message d'erreur -->
        <div *ngIf="error" class="alert alert-error">{{ error }}</div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">{{ t('email') || 'Email' }}</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [class.error]="submitted && f['email'].errors"
            [placeholder]="t('entrez_email') || 'Entrez votre email'"
          />
          <div *ngIf="submitted && f['email'].errors" class="error-message">
            <span *ngIf="f['email'].errors?.['required']">{{ t('email_requis') || "L'email est requis" }}</span>
            <span *ngIf="f['email'].errors?.['email']">{{ t('email_invalide') || "Format d'email invalide" }}</span>
          </div>
        </div>

        <!-- Mot de passe -->
        <div class="form-group">
          <label for="password">{{ t('mot_de_passe') || 'Mot de passe' }}</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            [class.error]="submitted && f['password'].errors"
            [placeholder]="t('entrez_mot_de_passe') || 'Entrez votre mot de passe'"
          />
          <div *ngIf="submitted && f['password'].errors" class="error-message">
            <span *ngIf="f['password'].errors?.['required']">{{ t('mdp_requis') || 'Le mot de passe est requis' }}</span>
          </div>
        </div>

        <!-- Bouton de soumission -->
        <button type="submit" class="btn btn-primary" [disabled]="loading">
          <span *ngIf="loading" class="spinner"></span>
          {{ loading ? t('connexion_en_cours') || 'Connexion...' : t('se_connecter') || 'Se connecter' }}
        </button>

        <!-- Lien vers inscription -->
        <div class="auth-footer">
          <p>
            {{ t('pas_de_compte') || 'Pas encore de compte ?' }}
            <a routerLink="/projects/register" class="auth-tab">{{ t('sinscrire') || "S'inscrire" }}</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="auth-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-column">
        <h3>{{ t('a_propos') || '√Ä propos' }}</h3>
        <ul>
          <li><a href="#">{{ t('mission') || 'Notre mission' }}</a></li>
          <li><a href="#">{{ t('equipe') || '√âquipe' }}</a></li>
          <li><a href="#">{{ t('partenaires') || 'Partenaires' }}</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>{{ t('ressources') || 'Ressources' }}</h3>
        <ul>
          <li><a href="#">{{ t('rapports') || 'Rapports' }}</a></li>
          <li><a href="#">{{ t('solutions_proposees') || 'Solutions propos√©es' }}</a></li>
          <li><a href="#">{{ t('contacts_utiles') || 'Contacts utiles' }}</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>{{ t('contact') || 'Contact' }}</h3>
        <ul>
          <li>Email: contact@eaugazabeche.td</li>
          <li>{{ t('telephone') || 'T√©l√©phone' }}: +235 86 44 51 10</li>
          <li>Ab√©ch√©, Tchad</li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025 {{ t('copyright') || 'Plateforme Gaz Ab√©ch√©. Tous droits r√©serv√©s.' }}</p>
    </div>
  </div>
</footer>
